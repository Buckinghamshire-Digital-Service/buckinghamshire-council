
<!doctype html>
<html lang="en" class="no-js">
  <head>
    
      <meta charset="utf-8">
      <meta name="viewport" content="width=device-width,initial-scale=1">
      
      
      
        <link rel="canonical" href="https://Buckinghamshire-Digital-Service.github.io/buckinghamshire-council/recruitment-site/">
      
      
        <link rel="prev" href="../cookies/">
      
      
        <link rel="next" href="../complaints-and-requests/">
      
      
      <link rel="icon" href="../assets/images/favicon.png">
      <meta name="generator" content="mkdocs-1.5.3, mkdocs-material-9.5.17">
    
    
      
        <title>Recruitment site - Buckinghamshire Council</title>
      
    
    
      <link rel="stylesheet" href="../assets/stylesheets/main.bcfcd587.min.css">
      
      


    
    
      
    
    
      
    
    
    <script>__md_scope=new URL("..",location),__md_hash=e=>[...e].reduce((e,_)=>(e<<5)-e+_.charCodeAt(0),0),__md_get=(e,_=localStorage,t=__md_scope)=>JSON.parse(_.getItem(t.pathname+"."+e)),__md_set=(e,_,t=localStorage,a=__md_scope)=>{try{t.setItem(a.pathname+"."+e,JSON.stringify(_))}catch(e){}}</script>
    
      

    
    
    
  </head>
  
  
    <body dir="ltr">
  
    
    <input class="md-toggle" data-md-toggle="drawer" type="checkbox" id="__drawer" autocomplete="off">
    <input class="md-toggle" data-md-toggle="search" type="checkbox" id="__search" autocomplete="off">
    <label class="md-overlay" for="__drawer"></label>
    <div data-md-component="skip">
      
        
        <a href="#recruitment-site" class="md-skip">
          Skip to content
        </a>
      
    </div>
    <div data-md-component="announce">
      
    </div>
    
    
      

  

<header class="md-header md-header--shadow" data-md-component="header">
  <nav class="md-header__inner md-grid" aria-label="Header">
    <a href=".." title="Buckinghamshire Council" class="md-header__button md-logo" aria-label="Buckinghamshire Council" data-md-component="logo">
      
  
  <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M12 8a3 3 0 0 0 3-3 3 3 0 0 0-3-3 3 3 0 0 0-3 3 3 3 0 0 0 3 3m0 3.54C9.64 9.35 6.5 8 3 8v11c3.5 0 6.64 1.35 9 3.54 2.36-2.19 5.5-3.54 9-3.54V8c-3.5 0-6.64 1.35-9 3.54Z"/></svg>

    </a>
    <label class="md-header__button md-icon" for="__drawer">
      
      <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M3 6h18v2H3V6m0 5h18v2H3v-2m0 5h18v2H3v-2Z"/></svg>
    </label>
    <div class="md-header__title" data-md-component="header-title">
      <div class="md-header__ellipsis">
        <div class="md-header__topic">
          <span class="md-ellipsis">
            Buckinghamshire Council
          </span>
        </div>
        <div class="md-header__topic" data-md-component="header-topic">
          <span class="md-ellipsis">
            
              Recruitment site
            
          </span>
        </div>
      </div>
    </div>
    
    
      <script>var media,input,key,value,palette=__md_get("__palette");if(palette&&palette.color){"(prefers-color-scheme)"===palette.color.media&&(media=matchMedia("(prefers-color-scheme: light)"),input=document.querySelector(media.matches?"[data-md-color-media='(prefers-color-scheme: light)']":"[data-md-color-media='(prefers-color-scheme: dark)']"),palette.color.media=input.getAttribute("data-md-color-media"),palette.color.scheme=input.getAttribute("data-md-color-scheme"),palette.color.primary=input.getAttribute("data-md-color-primary"),palette.color.accent=input.getAttribute("data-md-color-accent"));for([key,value]of Object.entries(palette.color))document.body.setAttribute("data-md-color-"+key,value)}</script>
    
    
    
      <label class="md-header__button md-icon" for="__search">
        
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M9.5 3A6.5 6.5 0 0 1 16 9.5c0 1.61-.59 3.09-1.56 4.23l.27.27h.79l5 5-1.5 1.5-5-5v-.79l-.27-.27A6.516 6.516 0 0 1 9.5 16 6.5 6.5 0 0 1 3 9.5 6.5 6.5 0 0 1 9.5 3m0 2C7 5 5 7 5 9.5S7 14 9.5 14 14 12 14 9.5 12 5 9.5 5Z"/></svg>
      </label>
      <div class="md-search" data-md-component="search" role="dialog">
  <label class="md-search__overlay" for="__search"></label>
  <div class="md-search__inner" role="search">
    <form class="md-search__form" name="search">
      <input type="text" class="md-search__input" name="query" aria-label="Search" placeholder="Search" autocapitalize="off" autocorrect="off" autocomplete="off" spellcheck="false" data-md-component="search-query" required>
      <label class="md-search__icon md-icon" for="__search">
        
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M9.5 3A6.5 6.5 0 0 1 16 9.5c0 1.61-.59 3.09-1.56 4.23l.27.27h.79l5 5-1.5 1.5-5-5v-.79l-.27-.27A6.516 6.516 0 0 1 9.5 16 6.5 6.5 0 0 1 3 9.5 6.5 6.5 0 0 1 9.5 3m0 2C7 5 5 7 5 9.5S7 14 9.5 14 14 12 14 9.5 12 5 9.5 5Z"/></svg>
        
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M20 11v2H8l5.5 5.5-1.42 1.42L4.16 12l7.92-7.92L13.5 5.5 8 11h12Z"/></svg>
      </label>
      <nav class="md-search__options" aria-label="Search">
        
        <button type="reset" class="md-search__icon md-icon" title="Clear" aria-label="Clear" tabindex="-1">
          
          <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M19 6.41 17.59 5 12 10.59 6.41 5 5 6.41 10.59 12 5 17.59 6.41 19 12 13.41 17.59 19 19 17.59 13.41 12 19 6.41Z"/></svg>
        </button>
      </nav>
      
    </form>
    <div class="md-search__output">
      <div class="md-search__scrollwrap" data-md-scrollfix>
        <div class="md-search-result" data-md-component="search-result">
          <div class="md-search-result__meta">
            Initializing search
          </div>
          <ol class="md-search-result__list" role="presentation"></ol>
        </div>
      </div>
    </div>
  </div>
</div>
    
    
      <div class="md-header__source">
        <a href="https://github.com/Buckinghamshire-Digital-Service/buckinghamshire-council/" title="Go to repository" class="md-source" data-md-component="source">
  <div class="md-source__icon md-icon">
    
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 448 512"><!--! Font Awesome Free 6.5.1 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) Copyright 2023 Fonticons, Inc.--><path d="M439.55 236.05 244 40.45a28.87 28.87 0 0 0-40.81 0l-40.66 40.63 51.52 51.52c27.06-9.14 52.68 16.77 43.39 43.68l49.66 49.66c34.23-11.8 61.18 31 35.47 56.69-26.49 26.49-70.21-2.87-56-37.34L240.22 199v121.85c25.3 12.54 22.26 41.85 9.08 55a34.34 34.34 0 0 1-48.55 0c-17.57-17.6-11.07-46.91 11.25-56v-123c-20.8-8.51-24.6-30.74-18.64-45L142.57 101 8.45 235.14a28.86 28.86 0 0 0 0 40.81l195.61 195.6a28.86 28.86 0 0 0 40.8 0l194.69-194.69a28.86 28.86 0 0 0 0-40.81z"/></svg>
  </div>
  <div class="md-source__repository">
    GitHub
  </div>
</a>
      </div>
    
  </nav>
  
</header>
    
    <div class="md-container" data-md-component="container">
      
      
        
          
        
      
      <main class="md-main" data-md-component="main">
        <div class="md-main__inner md-grid">
          
            
              
              <div class="md-sidebar md-sidebar--primary" data-md-component="sidebar" data-md-type="navigation" >
                <div class="md-sidebar__scrollwrap">
                  <div class="md-sidebar__inner">
                    



<nav class="md-nav md-nav--primary" aria-label="Navigation" data-md-level="0">
  <label class="md-nav__title" for="__drawer">
    <a href=".." title="Buckinghamshire Council" class="md-nav__button md-logo" aria-label="Buckinghamshire Council" data-md-component="logo">
      
  
  <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M12 8a3 3 0 0 0 3-3 3 3 0 0 0-3-3 3 3 0 0 0-3 3 3 3 0 0 0 3 3m0 3.54C9.64 9.35 6.5 8 3 8v11c3.5 0 6.64 1.35 9 3.54 2.36-2.19 5.5-3.54 9-3.54V8c-3.5 0-6.64 1.35-9 3.54Z"/></svg>

    </a>
    Buckinghamshire Council
  </label>
  
    <div class="md-nav__source">
      <a href="https://github.com/Buckinghamshire-Digital-Service/buckinghamshire-council/" title="Go to repository" class="md-source" data-md-component="source">
  <div class="md-source__icon md-icon">
    
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 448 512"><!--! Font Awesome Free 6.5.1 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) Copyright 2023 Fonticons, Inc.--><path d="M439.55 236.05 244 40.45a28.87 28.87 0 0 0-40.81 0l-40.66 40.63 51.52 51.52c27.06-9.14 52.68 16.77 43.39 43.68l49.66 49.66c34.23-11.8 61.18 31 35.47 56.69-26.49 26.49-70.21-2.87-56-37.34L240.22 199v121.85c25.3 12.54 22.26 41.85 9.08 55a34.34 34.34 0 0 1-48.55 0c-17.57-17.6-11.07-46.91 11.25-56v-123c-20.8-8.51-24.6-30.74-18.64-45L142.57 101 8.45 235.14a28.86 28.86 0 0 0 0 40.81l195.61 195.6a28.86 28.86 0 0 0 40.8 0l194.69-194.69a28.86 28.86 0 0 0 0-40.81z"/></svg>
  </div>
  <div class="md-source__repository">
    GitHub
  </div>
</a>
    </div>
  
  <ul class="md-nav__list" data-md-scrollfix>
    
      
      
  
  
  
  
    <li class="md-nav__item">
      <a href=".." class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Home
  </span>
  

      </a>
    </li>
  

    
      
      
  
  
  
  
    <li class="md-nav__item">
      <a href="../project-conventions/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Project conventions
  </span>
  

      </a>
    </li>
  

    
      
      
  
  
  
  
    <li class="md-nav__item">
      <a href="../front-end-tooling/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Front end tooling
  </span>
  

      </a>
    </li>
  

    
      
      
  
  
  
  
    <li class="md-nav__item">
      <a href="../hosting/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Hosting
  </span>
  

      </a>
    </li>
  

    
      
      
  
  
  
  
    <li class="md-nav__item">
      <a href="../infrastructure/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Infrastructure
  </span>
  

      </a>
    </li>
  

    
      
      
  
  
  
  
    <li class="md-nav__item">
      <a href="../email-and-sms/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Email and SMS
  </span>
  

      </a>
    </li>
  

    
      
      
  
  
  
  
    <li class="md-nav__item">
      <a href="../continuous-integration/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Continuous integration
  </span>
  

      </a>
    </li>
  

    
      
      
  
  
  
  
    <li class="md-nav__item">
      <a href="../continuous-deployment/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Continuous deployment
  </span>
  

      </a>
    </li>
  

    
      
      
  
  
  
  
    
    
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_9" >
        
          
          <label class="md-nav__link" for="__nav_9" id="__nav_9_label" tabindex="0">
            
  
  <span class="md-ellipsis">
    Data and Privacy
  </span>
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="1" aria-labelledby="__nav_9_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_9">
            <span class="md-nav__icon md-icon"></span>
            Data and Privacy
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../anonymised-data/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Anonymised data
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../data-protection/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Data protection
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../cookies/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Cookies
  </span>
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

    
      
      
  
  
    
  
  
  
    
    
    
    
    <li class="md-nav__item md-nav__item--active md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_10" checked>
        
          
          <label class="md-nav__link" for="__nav_10" id="__nav_10_label" tabindex="0">
            
  
  <span class="md-ellipsis">
    External Integrations
  </span>
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="1" aria-labelledby="__nav_10_label" aria-expanded="true">
          <label class="md-nav__title" for="__nav_10">
            <span class="md-nav__icon md-icon"></span>
            External Integrations
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
    
  
  
  
    <li class="md-nav__item md-nav__item--active">
      
      <input class="md-nav__toggle md-toggle" type="checkbox" id="__toc">
      
      
        
      
      
      <a href="./" class="md-nav__link md-nav__link--active">
        
  
  <span class="md-ellipsis">
    Recruitment site
  </span>
  

      </a>
      
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../complaints-and-requests/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Complaints and requests
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../live-chat-client/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Live chat client
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../location-autocomplete/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Location autocomplete
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../location-maps-widget/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Location maps widget
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../postcode-lookup/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Postcode lookup
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../service-directory/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Service directory
  </span>
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

    
      
      
  
  
  
  
    
    
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_11" >
        
          
          <label class="md-nav__link" for="__nav_11" id="__nav_11_label" tabindex="0">
            
  
  <span class="md-ellipsis">
    Custom features
  </span>
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="1" aria-labelledby="__nav_11_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_11">
            <span class="md-nav__icon md-icon"></span>
            Custom features
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../custom-features/form-builder/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Formbuilder customisations
  </span>
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

    
      
      
  
  
  
  
    <li class="md-nav__item">
      <a href="../contributing/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Contributing
  </span>
  

      </a>
    </li>
  

    
      
      
  
  
  
  
    <li class="md-nav__item">
      <a href="../technical-debt/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Technical debt
  </span>
  

      </a>
    </li>
  

    
      
      
  
  
  
  
    <li class="md-nav__item">
      <a href="../CHANGELOG/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    CHANGELOG
  </span>
  

      </a>
    </li>
  

    
  </ul>
</nav>
                  </div>
                </div>
              </div>
            
            
              
              <div class="md-sidebar md-sidebar--secondary" data-md-component="sidebar" data-md-type="toc" >
                <div class="md-sidebar__scrollwrap">
                  <div class="md-sidebar__inner">
                    

<nav class="md-nav md-nav--secondary" aria-label="Table of contents">
  
  
  
    
  
  
</nav>
                  </div>
                </div>
              </div>
            
          
          
            <div class="md-content" data-md-component="content">
              <article class="md-content__inner md-typeset">
                
                  

  
  


<h1 id="recruitment-site">Recruitment Site<a class="headerlink" href="#recruitment-site" title="Permanent link">&para;</a></h1>
<p>This is hosted at <a href="https://jobs.buckinghamshire.gov.uk/">https://jobs.buckinghamshire.gov.uk/</a>. It is a Django/Wagtail app sitting within the main project, with a set of page types for this site only, including its own home page type.</p>
<h1 id="internal-recruitment-site">Internal Recruitment Site<a class="headerlink" href="#internal-recruitment-site" title="Permanent link">&para;</a></h1>
<p>There is also a recruitment site for internal jobs. This is hosted on TBC. It is a clone of the main recruitment site with different jobs and job alert associated.</p>
<p>Each recruitment site will display different job listing. Many jobs may be posted to both sites. The jobs on each site will have a different <code>talentlink_id</code> though they will share the same <code>job_number</code>.</p>
<p>Note that categories and subcategories are shared across the recruitment sites.</p>
<h2 id="local-development">Local development<a class="headerlink" href="#local-development" title="Permanent link">&para;</a></h2>
<p>Either grab a database dump from production or staging, or:</p>
<ol>
<li>At root, add a Job home page</li>
<li>Edit sites (/admin/sites/), and add a new site for job homepage, selecting the newly created job homepage as home page</li>
<li>Update sites settings:</li>
<li>Update sites settings to use the local domain for job homepage</li>
<li>Update your /etc/hosts with the new job domain if needed. Eg. mine is 127.0.0.1 jobs.bc.local bc.local</li>
<li>In VM, run <code>dj import_jobs</code> (see below about credentials). You should see something like "Fetching page 1... 140 new jobs created." (If you get <code>JobCategory.DoesNotExist</code> errors, run the import command with <code>dj import_jobs --import_categories</code>. This will import the missing categories).</li>
<li>Jobs are imported as TalentLinkJob models, and not page models. So you won't see the pages. To view a job page, you will need to append <code>/job_detail/&lt;talentlink_id&gt;/</code>. Eg. <a href="http://jobs.bc.local:8000/job_detail/123/">http://jobs.bc.local:8000/job_detail/123/</a></li>
<li>You can view imported jobs in the Wagtail admin at e.g. <a href="http://jobs.bc.local:8000/admin/recruitment/talentlinkjob/">http://jobs.bc.local:8000/admin/recruitment/talentlinkjob/</a></li>
</ol>
<h2 id="credentials">Credentials<a class="headerlink" href="#credentials" title="Permanent link">&para;</a></h2>
<p>The following environment variables must be set to authenticate with the API (or configured in local settings, for dev enviromnents):</p>
<ul>
<li><code>TALENTLINK_API_KEY</code></li>
<li><code>TALENTLINK_API_PASSWORD</code></li>
<li><code>TALENTLINK_API_USERNAME_EXTERNAL</code></li>
<li><code>TALENTLINK_API_USERNAME_INTERNAL</code></li>
<li>And potentially <code>TALENTLINK_API_USERNAME_{uppercase job board name}</code> for any new boards</li>
<li><code>TALENTLINK_APPLY_CONFIG_KEY_EXTERNAL</code></li>
<li><code>TALENTLINK_APPLY_CONFIG_KEY_INTERNAL</code></li>
<li>And potentially <code>TALENTLINK_APPLY_CONFIG_KEY_{uppercase job board name}</code> for any new boards</li>
<li><code>TALENTLINK_API_WSDL</code>, this is configurable, but not secret, and should be set to "<a href="https://api3.lumesse-talenthub.com/CareerPortal/SOAP/FoAdvert?WSDL">https://api3.lumesse-talenthub.com/CareerPortal/SOAP/FoAdvert?WSDL</a>"</li>
</ul>
<h2 id="soap">SOAP<a class="headerlink" href="#soap" title="Permanent link">&para;</a></h2>
<p>Jobs are fetched from the Lumesse TalentLink SOAP API. We use <a href="https://python-zeep.readthedocs.io/en/master/client.html">Zeep</a> as an API client.</p>
<p>API documentation is at <a href="https://developer.lumesse-talenthub.com/docs.html">https://developer.lumesse-talenthub.com/docs.html</a>. From there we use the "Fo Advert" bundle.</p>
<p>You can use zeep to inspect the (undocumented) WSDL file for that API:</p>
<div class="codehilite"><pre><span></span><code><span class="n">python</span> <span class="o">-</span><span class="n">mzeep</span> <span class="n">https</span><span class="p">:</span><span class="o">//</span><span class="n">api3</span><span class="o">.</span><span class="n">lumesse</span><span class="o">-</span><span class="n">talenthub</span><span class="o">.</span><span class="n">com</span><span class="o">/</span><span class="n">CareerPortal</span><span class="o">/</span><span class="n">SOAP</span><span class="o">/</span><span class="n">FoAdvert</span><span class="err">?</span><span class="n">WSDL</span>
</code></pre></div>

<p>This is done in code too, at the point where the internal <code>zeep.Client</code> is configured. It populates 'service' methods on the client, corresponding to the services documented at <a href="https://developer.lumesse-talenthub.com/docs/read/career_portal/FoAdvert.html">https://developer.lumesse-talenthub.com/docs/read/career_portal/FoAdvert.html</a>.</p>
<h2 id="zeep">Zeep<a class="headerlink" href="#zeep" title="Permanent link">&para;</a></h2>
<h3 id="authentication-with-lumesse-talentlink">Authentication with Lumesse TalentLink<a class="headerlink" href="#authentication-with-lumesse-talentlink" title="Permanent link">&para;</a></h3>
<p>The Lumesse TalentLink API uses both WS-Security (the request body contains a username and password in the Header element) and requires an API key to be supplied as a URL query parameter. We have modified the Zeep Transport class to add this API key to all URLs.</p>
<h3 id="use-with-django-cache">Use with Django cache<a class="headerlink" href="#use-with-django-cache" title="Permanent link">&para;</a></h3>
<p>Zeep caches WSDL schemata internally. We use a custom <code>ZeepDjangoBackendCache</code> to fit with the infrastructure Django already provides. See <a href="../infrastructure/">Infrastructure</a> for details of the Django backend.</p>
<h2 id="lumesse-talentlink-api">Lumesse TalentLink API<a class="headerlink" href="#lumesse-talentlink-api" title="Permanent link">&para;</a></h2>
<p>Every service documented at <a href="https://developer.lumesse-talenthub.com/docs/read/career_portal/FoAdvert.html">https://developer.lumesse-talenthub.com/docs/read/career_portal/FoAdvert.html</a> has a corresponding service method on the client, e.g. there's a service in the documentation called 'getAdvertisements', corresponding to the WSLD service of the same name:</p>
<div class="codehilite"><pre><span></span><code><span class="n">getAdvertisements</span><span class="p">(</span>
<span class="w">    </span><span class="n">firstResult</span><span class="o">:</span><span class="w"> </span><span class="n">xsd</span><span class="o">:</span><span class="n">int</span><span class="p">,</span>
<span class="w">    </span><span class="n">maxResults</span><span class="o">:</span><span class="w"> </span><span class="n">xsd</span><span class="o">:</span><span class="n">int</span><span class="p">,</span>
<span class="w">    </span><span class="n">searchCriteriaDto</span><span class="o">:</span><span class="w"> </span><span class="n">ns0</span><span class="o">:</span><span class="n">searchCriteriaDto</span><span class="p">,</span>
<span class="w">    </span><span class="n">sortingDetailsDto</span><span class="o">:</span><span class="w"> </span><span class="n">ns0</span><span class="o">:</span><span class="n">sortingDetailsDto</span><span class="p">,</span>
<span class="w">    </span><span class="n">langCode</span><span class="o">:</span><span class="w"> </span><span class="n">ns0</span><span class="o">:</span><span class="n">langCode</span><span class="p">,</span>
<span class="w">    </span><span class="n">showJobLocation</span><span class="o">:</span><span class="w"> </span><span class="n">xsd</span><span class="o">:</span><span class="n">boolean</span><span class="p">,</span>
<span class="w">    </span><span class="n">displayFullContent</span><span class="o">:</span><span class="w"> </span><span class="n">xsd</span><span class="o">:</span><span class="n">boolean</span><span class="p">)</span><span class="w"> </span><span class="o">-&gt;</span><span class="w"> </span><span class="n">advertisementResult</span><span class="o">:</span><span class="w"> </span><span class="n">ns0</span><span class="o">:</span><span class="n">advertisementResultDto</span>
</code></pre></div>

<p>You can call this in Python code with:</p>
<div class="codehilite"><pre><span></span><code><span class="o">&gt;&gt;&gt;</span> <span class="kn">from</span> <span class="nn">bc.recruitment_api.client</span> <span class="kn">import</span> <span class="n">get_client</span>
<span class="o">&gt;&gt;&gt;</span> <span class="n">client</span> <span class="o">=</span> <span class="n">get_client</span><span class="p">()</span>
<span class="o">&gt;&gt;&gt;</span> <span class="n">resp</span> <span class="o">=</span> <span class="n">client</span><span class="o">.</span><span class="n">service</span><span class="o">.</span><span class="n">getAdvertisements</span><span class="p">(</span><span class="mi">1</span><span class="p">,</span> <span class="mi">10</span><span class="p">)</span>
<span class="o">&gt;&gt;&gt;</span> <span class="n">resp</span><span class="p">[</span><span class="s1">&#39;totalResults&#39;</span><span class="p">]</span>
<span class="mi">136</span>
<span class="o">&gt;&gt;&gt;</span> <span class="nb">len</span><span class="p">(</span><span class="n">resp</span><span class="p">[</span><span class="s1">&#39;advertisements&#39;</span><span class="p">][</span><span class="s1">&#39;advertisement&#39;</span><span class="p">])</span>
<span class="mi">10</span>
<span class="o">&gt;&gt;&gt;</span> <span class="nb">dir</span><span class="p">(</span><span class="n">resp</span><span class="p">[</span><span class="s1">&#39;advertisements&#39;</span><span class="p">][</span><span class="s1">&#39;advertisement&#39;</span><span class="p">][</span><span class="mi">0</span><span class="p">])</span>
<span class="p">[</span><span class="s1">&#39;applicationUrl&#39;</span><span class="p">,</span> <span class="s1">&#39;assignedImages&#39;</span><span class="p">,</span> <span class="s1">&#39;categoryLists&#39;</span><span class="p">,</span> <span class="s1">&#39;comment&#39;</span><span class="p">,</span> <span class="s1">&#39;compensationMaxValue&#39;</span><span class="p">,</span> <span class="s1">&#39;compensationMinValue&#39;</span><span class="p">,</span> <span class="s1">&#39;configurableFields&#39;</span><span class="p">,</span> <span class="s1">&#39;contractCompensationPeriod&#39;</span><span class="p">,</span> <span class="s1">&#39;contractDuration&#39;</span><span class="p">,</span> <span class="s1">&#39;customFields&#39;</span><span class="p">,</span> <span class="s1">&#39;customLovs&#39;</span><span class="p">,</span> <span class="s1">&#39;descriptionUrl&#39;</span><span class="p">,</span> <span class="s1">&#39;dueDate&#39;</span><span class="p">,</span> <span class="s1">&#39;duration&#39;</span><span class="p">,</span> <span class="s1">&#39;expectedEndDate&#39;</span><span class="p">,</span> <span class="s1">&#39;expectedStartDate&#39;</span><span class="p">,</span> <span class="s1">&#39;externalJobNumber&#39;</span><span class="p">,</span> <span class="s1">&#39;generalApplication&#39;</span><span class="p">,</span> <span class="s1">&#39;id&#39;</span><span class="p">,</span> <span class="s1">&#39;indeedConfiguration&#39;</span><span class="p">,</span> <span class="s1">&#39;jobLocations&#39;</span><span class="p">,</span> <span class="s1">&#39;jobNumber&#39;</span><span class="p">,</span> <span class="s1">&#39;jobTitle&#39;</span><span class="p">,</span> <span class="s1">&#39;jobUpdateDate&#39;</span><span class="p">,</span> <span class="s1">&#39;keyword&#39;</span><span class="p">,</span> <span class="s1">&#39;language&#39;</span><span class="p">,</span> <span class="s1">&#39;location&#39;</span><span class="p">,</span> <span class="s1">&#39;operationals&#39;</span><span class="p">,</span> <span class="s1">&#39;organizations&#39;</span><span class="p">,</span> <span class="s1">&#39;postingEndDate&#39;</span><span class="p">,</span> <span class="s1">&#39;postingStartDate&#39;</span><span class="p">,</span> <span class="s1">&#39;postingTargetStatus&#39;</span><span class="p">,</span> <span class="s1">&#39;postingUserEmail&#39;</span><span class="p">,</span> <span class="s1">&#39;recruiters&#39;</span><span class="p">,</span> <span class="s1">&#39;recruitingCompany&#39;</span><span class="p">,</span> <span class="s1">&#39;requisitionInternalJobNumber&#39;</span><span class="p">,</span> <span class="s1">&#39;showCompensation&#39;</span><span class="p">,</span> <span class="s1">&#39;showRecruiter&#39;</span><span class="p">,</span> <span class="s1">&#39;siteLanguage&#39;</span><span class="p">,</span> <span class="s1">&#39;sponsoredJobContext&#39;</span><span class="p">,</span> <span class="s1">&#39;standardLovs&#39;</span><span class="p">,</span> <span class="s1">&#39;standardRate&#39;</span><span class="p">,</span> <span class="s1">&#39;status&#39;</span><span class="p">,</span> <span class="s1">&#39;strapline&#39;</span><span class="p">]</span>
<span class="o">&gt;&gt;&gt;</span> <span class="n">resp</span><span class="p">[</span><span class="s1">&#39;advertisements&#39;</span><span class="p">][</span><span class="s1">&#39;advertisement&#39;</span><span class="p">][</span><span class="mi">0</span><span class="p">][</span><span class="s1">&#39;jobTitle&#39;</span><span class="p">]</span>
<span class="s1">&#39;2 x Support Workers - Autism - Spring Valley Day Centre / Spectrum Unit&#39;</span>
</code></pre></div>

<h2 id="saba">Saba<a class="headerlink" href="#saba" title="Permanent link">&para;</a></h2>
<p>Saba is the system used for managing jobs and applications.</p>
<p>Jobs are identified by a unique job number, eg. BUC0003 which corresponds to <code>TalentLinkJob.job_number</code> on the Wagtail site.</p>
<p>On Saba, jobs can have multiple advertisements. Advertisements can be posted to multiple targets. Each posting target (ie. job board) has its own TalentLink API credentials. We are currently only importing job advertisements posted to 'External site' and 'Internal site' on Saba.</p>
<p>Each job advertisement posting to a job board will have a start date, end date, and status. It will only appear on the TalentLink API feed for the job board if its status is 'Published'.</p>
<p>The posting will also have a unique ad id which corresponds to <code>TalentLinkJob.talentlink_id</code>. This is different for each job board, even if it is from the same job advertisement.</p>
<h2 id="importing-jobs">Importing jobs<a class="headerlink" href="#importing-jobs" title="Permanent link">&para;</a></h2>
<p>The management command <code>import_jobs</code> will fetch results from the API.</p>
<p>If the <code>--import_categories</code> option is specified when running the <code>import_jobs</code> command, new categories will be imported. Otherwise, jobs with categories that do not match existing <code>JobSubcategory</code> instances will be skipped in the import.</p>
<p><code>JobSubcategory</code> objects are unique by title, but looked up case-insensitively by the importer. This is due to similar entries like "Schools secondary" and "Schools Secondary" in the source data.</p>
<p>Note that the imported <code>Job Group</code> attribute from the API is mapped to the <code>JobSubcategory</code> model in Django, but that users can filter by either category or subcategory. The relationship between categories and their subcategories can be edited in the Wagtail admin.</p>
<h3 id="job-boards-ie-external-and-internal-job-sites">Job Boards (ie. External and Internal job sites)<a class="headerlink" href="#job-boards-ie-external-and-internal-job-sites" title="Permanent link">&para;</a></h3>
<p>Jobs on TalentLink can be posted to multiple job boards (eg. External or Internal). The job board is set on the recruitment homepage (go to the Settings tab).</p>
<p>Each TalentLinkJob instance belongs to only one recruitment site.</p>
<p>The import script loops through the instances of recruitment homepage on the system and import jobs for the job board defined on the instance.</p>
<p>If a corresponding API_USERNANE for the job board (eg. <code>settings.TALENTLINK_API_USERNAME_EXTERNAL</code>) is not defined on settings, import will be skipped for the recruitment site.</p>
<h3 id="imported-fields">Imported fields<a class="headerlink" href="#imported-fields" title="Permanent link">&para;</a></h3>
<p>This is a non-exhaustive reference of the fields we map from the API return. It serves to highlight some of the noteworthy aspects:</p>
<h4 id="description">Description<a class="headerlink" href="#description" title="Permanent link">&para;</a></h4>
<p>This is a concatenation of multiple <code>custom_field</code> fields, whose format is a 'label' and a 'value'. We turn the label into a <code>&lt;h3&gt;</code> element, and the value into a paragraph, but we also strip out most HTML formatting, according to a whitelist of tags and their attributes in <code>bc.recruitment_api.constants</code>.</p>
<h4 id="short-description">Short description<a class="headerlink" href="#short-description" title="Permanent link">&para;</a></h4>
<p>This is either the text of the first <code>&lt;p&gt;</code> element in the first custom_field value from above, or the entire first custom_field value, if it is formatted as plain text.</p>
<h4 id="logo">Logo<a class="headerlink" href="#logo" title="Permanent link">&para;</a></h4>
<p>Logo images are pulled from their remote location and imported to Wagtail's image library. If an image doesn't pass Wagtail's validation, it's rejected and the field left blank. This means that some images allowed by TalentLink may not be imported - e.g. if they exceed the size allowed by the <code>MAX_IMAGE_PIXELS</code> setting.</p>
<h2 id="job-alerts">Job Alerts<a class="headerlink" href="#job-alerts" title="Permanent link">&para;</a></h2>
<h3 id="management-command">Management command<a class="headerlink" href="#management-command" title="Permanent link">&para;</a></h3>
<div class="codehilite"><pre><span></span><code><span class="n">dj</span> <span class="n">send_job_alerts</span>
</code></pre></div>

<p>This searches for new matches for all confirmed job alert subscriptions.</p>
<p>A new match is any job whose created date is since the start of the last successful run, and since the alert was created.</p>
<p>The way the command is written intends it to be called daily, but other durations shouldn't matter, so long as the duration is longer than the time taken for the command to run. It specifically ignores jobs imported during the running of the alert command, leaving them for the next alert cycle.</p>
<p>Job alerts are site specific.</p>
<h2 id="application-forms">Application forms<a class="headerlink" href="#application-forms" title="Permanent link">&para;</a></h2>
<p>This function is provided by the RAC, Responsive Application Component, a front-end application developed and supplied as-is by Saba Talentlink.</p>
<p>This was originally developed by them and styled to match the previous county council's recruitment site, but is now styled by us.</p>
<p>The vendor static files are in <code>/bc/static_src/vendor/talentlink/</code>, (though only the JS is still in use), and the HTML in <code>bc/project_styleguide/templates/patterns/pages/jobs/apply.html</code>. We have kept the layout of the HTML file fairly close to the originally-supplied file, with commented-out header tags etc., to make it easier to understand the diff in future if an updated file is supplied by Saba.</p>












                
              </article>
            </div>
          
          
<script>var target=document.getElementById(location.hash.slice(1));target&&target.name&&(target.checked=target.name.startsWith("__tabbed_"))</script>
        </div>
        
      </main>
      
        <footer class="md-footer">
  
  <div class="md-footer-meta md-typeset">
    <div class="md-footer-meta__inner md-grid">
      <div class="md-copyright">
  
  
    Made with
    <a href="https://squidfunk.github.io/mkdocs-material/" target="_blank" rel="noopener">
      Material for MkDocs
    </a>
  
</div>
      
    </div>
  </div>
</footer>
      
    </div>
    <div class="md-dialog" data-md-component="dialog">
      <div class="md-dialog__inner md-typeset"></div>
    </div>
    
    
    <script id="__config" type="application/json">{"base": "..", "features": [], "search": "../assets/javascripts/workers/search.b8dbb3d2.min.js", "translations": {"clipboard.copied": "Copied to clipboard", "clipboard.copy": "Copy to clipboard", "search.result.more.one": "1 more on this page", "search.result.more.other": "# more on this page", "search.result.none": "No matching documents", "search.result.one": "1 matching document", "search.result.other": "# matching documents", "search.result.placeholder": "Type to start searching", "search.result.term.missing": "Missing", "select.version": "Select version"}}</script>
    
    
      <script src="../assets/javascripts/bundle.1e8ae164.min.js"></script>
      
    
  </body>
</html>