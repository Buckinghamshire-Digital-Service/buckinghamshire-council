{% load i18n %}
{% include "utils/widgets/base_chart.html" with chart_type="Pie" %}
<br/>
{% trans "Enter labels in the first column and values in the second column (the values will be automatically converted to percentages)." as data_help_text %}
{% include "utils/widgets/partials/data.html" with help_text=data_help_text example="pie" %}

<script>
    if( document.readyState !== 'loading' ) {
        window.initPieChart("{{ widget.attrs.id|escapejs }}", {{ widget.table_options_json|safe }});
    } else {
        document.addEventListener('DOMContentLoaded', () => {
            window.initPieChart("{{ widget.attrs.id|escapejs }}", {{ widget.table_options_json|safe }});
        });
    }
</script>
